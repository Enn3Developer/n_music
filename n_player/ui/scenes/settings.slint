import { Button, ScrollView, ComboBox, CheckBox, Switch } from "std-widgets.slint";
import { Separator } from "../components/separator.slint";

export component Settings {
    in property <string> theme;
    in property <bool> window-size;
    callback exit();
    callback change_theme(string);
    callback toggle_save_window_size();
    settings := VerticalLayout {
        HorizontalLayout {
            spacing: 10px;
            padding: 10px;
            max-height: settings.height * 10%;
            Text {
                horizontal-alignment: left;
                vertical-alignment: center;
                text: "Settings";
                font-size: 24px;
            }

            HorizontalLayout {
                alignment: end;
                Button {
                    icon: @image-url("../../assets/icons/back.svg");
                    colorize-icon: true;
                    clicked => {
                        exit()
                    }
                }
            }
        }

        Separator { }

        ScrollView {
            VerticalLayout {
                spacing: 10px;
                padding: 10px;
                HorizontalLayout {
                    max-height: 24px;
                    Text {
                        horizontal-alignment: left;
                        vertical-alignment: center;
                        text: "Theme";
                        font-size: 16px;
                    }

                    HorizontalLayout {
                        alignment: end;
                        ComboBox {
                            model: ["System", "Light", "Dark"];
                            current-value: theme;
                            selected(value) => {
                                change_theme(value)
                            }
                        }
                    }
                }

                HorizontalLayout {
                    max-height: 24px;
                    Text {
                        horizontal-alignment: left;
                        vertical-alignment: center;
                        text: "Save Window Size";
                        font-size: 16px;
                    }

                    HorizontalLayout {
                        alignment: end;
                        Switch {
                            checked: window-size;
                            toggled => {
                                toggle_save_window_size()
                            }
                        }
                    }
                }
            }
        }
    }
}
